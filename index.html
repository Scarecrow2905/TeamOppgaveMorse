<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morsekode</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app"></div>

<script>
        
    //Modell
    const norsk = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', ' ', 'Æ', 'Ø', 'Å'];
    const morse = [ '.-', '-...', '-.-.', '-..', '.', '..-.', '--.', '....', '..', '.---', '-.-', '.-..', '--', '-.', '---', '.--.', '--.-', '.-.', '...', '-', '..-', '...-', '.--', '-..-', '-.--', '--..', ' ', '·−·−', '−−−·', '·−−·−']; 
    let brukerInput = '';
    let brukerOutput = '';
    let morseSmud = '';
    let brukerBruk = [];
    let single = '';
    let dobble = '';
    let bruker = '';
    let tegn = ', ! ; : ? @^_'; //(',','?',':', ';','(',')','*','!','+','.');
                
    //View
    view();
    function view(){
        document.getElementById("app").innerHTML = `

        <input type="text" placeholder="Skriv inn og oversett til Morse" value="" onchange="bruker = this.value"/> 
        <button id="btn1" onclick="trykket()">Trykk meg!</button> <br>
        <div id="div1">${brukerBruk}</div>
        <br>
        <div id="div2">${brukerOutput}</div><br>
        <button id="btn" onclick="nullstill()">Nullstill tekst</button>

        `;
    }

    //Controller
    

    function trykket(){
        brukerInput = bruker;
        console.log('er: ', brukerInput)
        single = brukerInput.charAt(0);
        single = single.toUpperCase();
        dobble = bruker.slice(1);
        dobble = dobble.toLowerCase();
        enig = single + dobble;
        brukerBruk += enig + '<br>';
  
        brukerInput = brukerInput.toUpperCase();
        for (let i = 0; i < brukerInput.length; i++) {
            let morseIndex = norsk.indexOf(brukerInput[i])
            let morseVerdi = morse[morseIndex]
            morseSmud += morseVerdi + ' ';
            brukerOutput = morseSmud;
            if (bruker.includes('?' + ',' + '!')){
                alert('Ugyldig tegn: , . / ! ? () : + ; *');
                break;
            }
        };   
 
            view();
        }
        function nullstill(){
            brukerBruk = [];
            single = '';
           
            dobble = '';
            brukerOutput = '';
            morseSmud = '';

            view();
        
    }
/* if (bruker.includes(',' || '.' || '/' || '!' || '?' || ':' || '()')){
            alert('Ugyldig tegn: , . / ! ? () :');
        } else {*/

     /* if (brukerInput.indexOf(tegn) >= 0) {
                alert("Ugyldig tegn: , . / ! ? () : + ; *");
                
            };*/

/*for (let a = 0; a < tegn.length; a++) {
               if( brukerBruk.includes(tegn[a])) {
                    alert('Ugyldig tegn: , . / ! ? () : + ; *');
                    
                    break;*/
    

</script>
</body>
</html>